(function(f,h,i,d){var g="vidplaylist";var e={autoPlay:false,allowFullScreen:true,deepLinks:true,onChange:function(){},start:1,youtube:{autohide:"2",rel:"1",theme:"dark",color:"white",showinfo:"1",vq:"medium"},vimeo:{title:"1",byline:"1",portrait:"1",color:"ffffff"},holderId:"pl_video",secure:"auto"};function c(o){if(o.length<=8){return false}return true}function j(q){var r=null;if(q.indexOf("vim")!==-1){var p=/vimeo.*\/(\d+)/i.exec(q);if(p){r=p[1]}}else{if(q.indexOf("yout")!==-1){var o=/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|\&v=)([^#\&\?]*).*/;var p=q.match(o);if(p&&p[2].length==11){r=p[2]}}}return r}function b(p){var q=p.link,o=p.url;f.ajax({url:o,dataType:"jsonp",success:function(s){var t=s[0].title;var r="by "+s[0].user_name;if(t.length>50){q.find(".pl_title").html(t.substr(0,50)+"&hellip;")}else{q.find(".pl_title").html(t)}q.find(".pl_author").html(r);q.find(".pl_thumbnail img").attr("src",s[0].thumbnail_small)}})}function n(p){var q=p.link,o=p.url;f.ajax({url:o,dataType:"jsonp",success:function(s){var t=s.entry.title.$t;var r="by "+s.entry.author[0].name.$t;if(t.length>50){q.find(".pl_title").html(t.substr(0,50)+"&hellip;")}else{q.find(".pl_title").html(t)}q.find(".pl_author").html(r)}})}function a(r,o){var s,t;for(var q=0,p=r.length;q<p;q++){s=r[q];t=s.snippet.resourceId.videoId;li='<li><a href="https://www.youtube.com/watch?v='+t+'"></a></li>';f(li).prependTo("#pl_playlist")}o()}function m(p,o){f.ajax({url:"http://vimeo.com/api/v2/"+p+"/videos.json",dataType:"jsonp",success:function(q){o(q.reverse())}})}function l(r,o){var s,t;for(var q=0,p=r.length;q<p;q++){s=r[q];t=s.id;li='<li><a href="https://www.vimeo.com/'+t+'"></a></li>';f(li).prependTo("#pl_playlist")}o()}function k(p,o){this.element=p;this.options=f.extend({},e,o);this._defaults=e;this._name=g;this._protocol=(this.options.secure==="auto")?h.location.protocol==="https:"?"https://":"http://":this.options.secure?"https://":"http://";this.init()}k.prototype={init:function(){var p=this;var s=p.options.deepLinks&&h.location.hash.indexOf("#video-")!==-1?h.location.hash:null;var q=function(){f(p.element).find("li").each(function(v){var w=f(this),y=v+1;w.find("a:first").each(function(){var B=f(this),C=j(B.attr("href")),A=w.text();B.data("yt-href",B.attr("href"));B.attr("href","#video-"+y);B.data("yt-id",C);var z,D="";if(!c(C)){b({link:B,url:p._protocol+"vimeo.com/api/v2/video/"+C+".json"})}else{n({link:B,url:p._protocol+"gdata.youtube.com/feeds/api/videos/"+C+"?v=2&alt=json"});D=p._protocol+"i.ytimg.com/vi/"+C+"/default.jpg"}z='<span class="pl_thumbnail"><img src="'+D+'" alt="'+A+'" /></span><p class="pl_title"></p><p class="pl_author"></p>';B.empty().html(z+A).attr("title",A);if(!p.options.deepLinks){B.click(function(E){E.preventDefault();p.handleClick(B,p.options);p.options.onChange.call()})}});var x=f(w.children("a")[0]);if(s){if(x.attr("href")===s){p.handleClick(x,p.options)}}else{if(y===p.options.start){p.handleClick(x,p.options)}}});if(p.options.deepLinks){f(h).on("hashchange",function(x){var w=h.location.hash;var v=f(p.element).find('a[href="'+w+'"]');if(v.length>0){p.handleClick(v,p.options)}else{if(w===""){p.handleClick(f(p.element).find("a:first"),p.options)}}})}var u=i.createElement("div"),t=i.getElementsByTagName("base")[0]||i.getElementsByTagName("script")[0];u.innerHTML="&shy;<style> iframe { visibility: hidden; } </style>";t.parentNode.insertBefore(u,t);h.onload=function(){u.parentNode.removeChild(u)}};var r=[];r.push(q);var o=function(u,t){if(!t){t=0}u[t].call(this,function(){if(t+1<u.length){o(u,t+1)}})};o(r)},getEmbedCode:function(o,q){if(!c(q)){var p="";p+="<iframe";p+=' src="'+this._protocol+"player.vimeo.com/video/"+q;p+="?";p+=(o.autoPlay)?"autoplay=1":"autoplay=0";p+="&title="+o.vimeo.title;p+="&byline="+o.vimeo.byline;p+="&portrait="+o.vimeo.portrait;p+="&color="+o.vimeo.color;p+='" ';if(o.allowFullScreen){p+=" webkitAllowFullScreen mozallowfullscreen allowFullScreen "}p+=' type="text/html" frameborder="0" ></iframe>'}else{var p="";p+="<iframe";p+=' src="'+this._protocol+"www.youtube.com/embed/"+q;p+="?";p+=(o.autoPlay)?"autoplay=1":"autoplay=0";p+="&autohide="+o.youtube.autohide;p+="&rel="+o.youtube.rel;p+="&theme="+o.youtube.theme;p+="&color="+o.youtube.color;p+="&showinfo="+o.youtube.showinfo;p+="&vq="+o.youtube.vq;p+='" ';if(o.allowFullScreen){p+=" webkitAllowFullScreen mozallowfullscreen allowFullScreen "}p+=' frameborder="0" ></iframe>'}return p},handleClick:function(p,o){o.onChange.call();return this.handleVideoClick(p,o)},handleVideoClick:function(r,p){var o=this;var q=(p.holder?p.holder:f("#"+p.holderId));q.html(o.getEmbedCode(o.options,r.data("yt-id")));r.parent().parent("ul").find("li.pl_currentVideo").removeClass("pl_currentVideo");r.parent("li").addClass("pl_currentVideo");return false}};f.fn[g]=function(o){return this.each(function(){if(!f.data(this,"plugin_"+g)){f.data(this,"plugin_"+g,new k(this,o))}})}})(jQuery,window,document);